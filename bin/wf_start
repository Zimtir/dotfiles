#!/bin/bash

open_vim () {
    tmux send-keys "vim" C-m
}

rails () {
    tmux send-keys "rails $1" C-m
}

cd_wefunder () {
    tmux send-keys "wefunder" C-m
}

wf_start () {
    if ! { [ "$TERM" = "screen" ] && [ -n "$TMUX" ]; } then
        echo "ERR: No tmux server running."
        return 1
    fi

    cd_wefunder && open_vim && \
    tmux splitw -h -p 66 && cd_wefunder && open_vim && \
    tmux splitw -h -p 50 && cd_wefunder && rails "s" && \
    tmux splitw -v -p 66 && cd_wefunder && rails "c" && \
    tmux splitw -v -p 50 && cd_wefunder 
}

wf_start
